# 이 프로젝트를 리팩토링하면서 고민하던 것들에 대한 기록

## 2022-08-10

### 이미지 파일 업로드 시 같은 이름의 파일은 하나로 통합해서 해야 할까?

다른 폴더에 있는, 같은 이름이지만 다른 이미지 파일을 업로드할 수도 있지 않을까?

결론. 그래서 같은 이름의 파일이라도 독립적인 하나의 파일로 처리한다.

### 전역 객체 및 전역 함수의 네이밍 중복을 어떻게 해결해야 할까?

기능 단위로 클래스를 설계해서 필요한 곳에 클래스를 생성해서 사용한다면 데이터 절약에 유지보수도 좋지 않을까? 자바스크립트이니까, 클래스를 만들지 않아도 객체로도 가능 할 것 같다.

파일을 대표하는 하나의 객체(Object)에 변수나 함수를 모두 담아서 사용할 수 있지 않을까? 이렇게 해보는걸로!

적용해보니... this 키워드로 접근하는 코드를 작성하면서 몇 가지 주의가 필요했다.

1. 이벤트 리스너 핸들러 함수의 this는 호출한 Element를 가리킨다는 것
2. 비동기 처리 함수의 경우(then 등) this는 전역 스코프를 가리킨다는 것

그래서 비동기 처리 함수는 동기적인 처리가 필요하다고 판단되면 async/await 문법으로
변경하고, 이벤트 리스너 핸들러 함수에는 this 대신 해당 오브젝트로 직접 접근하도록
변경하였다.
